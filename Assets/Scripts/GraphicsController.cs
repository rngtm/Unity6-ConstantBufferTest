using System;
using UnityEngine;
using UnityEngine.Rendering;

public class GraphicsController : MonoBehaviour
{

    [SerializeField] float globalFloat = 1f;
    private MyData _myData;
    private ShaderProperties _properties;

    private void Start()
    {
        _properties = new ShaderProperties();
    }

    void Update()
    {
        globalFloat = Time.time % 1f;
        
        // SetGlobalParameter();
        PushConstantBuffer();
    }
    
    void PushConstantBuffer()
    {
        _myData._Float0 = globalFloat;
        _myData._Float1 = globalFloat;
        _myData._Float2 = globalFloat;
        _myData._Float3 = globalFloat;
        _myData._Float4 = globalFloat;
        _myData._Float5 = globalFloat;
        _myData._Float6 = globalFloat;
        _myData._Float7 = globalFloat;
        _myData._Float8 = globalFloat;
        _myData._Float9 = globalFloat;
        _myData._Float10 = globalFloat;
        _myData._Float11 = globalFloat;
        _myData._Float12 = globalFloat;
        _myData._Float13 = globalFloat;
        _myData._Float14 = globalFloat;
        _myData._Float15 = globalFloat;
        _myData._Float16 = globalFloat;
        _myData._Float17 = globalFloat;
        _myData._Float18 = globalFloat;
        _myData._Float19 = globalFloat;
        _myData._Float20 = globalFloat;
        _myData._Float21 = globalFloat;
        _myData._Float22 = globalFloat;
        _myData._Float23 = globalFloat;
        _myData._Float24 = globalFloat;
        _myData._Float25 = globalFloat;
        _myData._Float26 = globalFloat;
        _myData._Float27 = globalFloat;
        _myData._Float28 = globalFloat;
        _myData._Float29 = globalFloat;
        _myData._Float30 = globalFloat;
        _myData._Float31 = globalFloat;
        _myData._Float32 = globalFloat;
        _myData._Float33 = globalFloat;
        _myData._Float34 = globalFloat;
        _myData._Float35 = globalFloat;
        _myData._Float36 = globalFloat;
        _myData._Float37 = globalFloat;
        _myData._Float38 = globalFloat;
        _myData._Float39 = globalFloat;
        _myData._Float40 = globalFloat;
        _myData._Float41 = globalFloat;
        _myData._Float42 = globalFloat;
        _myData._Float43 = globalFloat;
        _myData._Float44 = globalFloat;
        _myData._Float45 = globalFloat;
        _myData._Float46 = globalFloat;
        _myData._Float47 = globalFloat;
        _myData._Float48 = globalFloat;
        _myData._Float49 = globalFloat;
        _myData._Float50 = globalFloat;
        _myData._Float51 = globalFloat;
        _myData._Float52 = globalFloat;
        _myData._Float53 = globalFloat;
        _myData._Float54 = globalFloat;
        _myData._Float55 = globalFloat;
        _myData._Float56 = globalFloat;
        _myData._Float57 = globalFloat;
        _myData._Float58 = globalFloat;
        _myData._Float59 = globalFloat;
        _myData._Float60 = globalFloat;
        _myData._Float61 = globalFloat;
        _myData._Float62 = globalFloat;
        _myData._Float63 = globalFloat;
        _myData._Float64 = globalFloat;
        _myData._Float65 = globalFloat;
        _myData._Float66 = globalFloat;
        _myData._Float67 = globalFloat;
        _myData._Float68 = globalFloat;
        _myData._Float69 = globalFloat;
        _myData._Float70 = globalFloat;
        _myData._Float71 = globalFloat;
        _myData._Float72 = globalFloat;
        _myData._Float73 = globalFloat;
        _myData._Float74 = globalFloat;
        _myData._Float75 = globalFloat;
        _myData._Float76 = globalFloat;
        _myData._Float77 = globalFloat;
        _myData._Float78 = globalFloat;
        _myData._Float79 = globalFloat;
        _myData._Float80 = globalFloat;
        _myData._Float81 = globalFloat;
        _myData._Float82 = globalFloat;
        _myData._Float83 = globalFloat;
        _myData._Float84 = globalFloat;
        _myData._Float85 = globalFloat;
        _myData._Float86 = globalFloat;
        _myData._Float87 = globalFloat;
        _myData._Float88 = globalFloat;
        _myData._Float89 = globalFloat;
        _myData._Float90 = globalFloat;
        _myData._Float91 = globalFloat;
        _myData._Float92 = globalFloat;
        _myData._Float93 = globalFloat;
        _myData._Float94 = globalFloat;
        _myData._Float95 = globalFloat;
        _myData._Float96 = globalFloat;
        _myData._Float97 = globalFloat;
        _myData._Float98 = globalFloat;
        _myData._Float99 = globalFloat;
        _myData._Float100 = globalFloat;
        _myData._Float101 = globalFloat;
        _myData._Float102 = globalFloat;
        _myData._Float103 = globalFloat;
        _myData._Float104 = globalFloat;
        _myData._Float105 = globalFloat;
        _myData._Float106 = globalFloat;
        _myData._Float107 = globalFloat;
        _myData._Float108 = globalFloat;
        _myData._Float109 = globalFloat;
        _myData._Float110 = globalFloat;
        _myData._Float111 = globalFloat;
        _myData._Float112 = globalFloat;
        _myData._Float113 = globalFloat;
        _myData._Float114 = globalFloat;
        _myData._Float115 = globalFloat;
        _myData._Float116 = globalFloat;
        _myData._Float117 = globalFloat;
        _myData._Float118 = globalFloat;
        _myData._Float119 = globalFloat;
        _myData._Float120 = globalFloat;
        _myData._Float121 = globalFloat;
        _myData._Float122 = globalFloat;
        _myData._Float123 = globalFloat;
        _myData._Float124 = globalFloat;
        _myData._Float125 = globalFloat;
        _myData._Float126 = globalFloat;
        _myData._Float127 = globalFloat;
        _myData._Float128 = globalFloat;
        _myData._Float129 = globalFloat;
        _myData._Float130 = globalFloat;
        _myData._Float131 = globalFloat;
        _myData._Float132 = globalFloat;
        _myData._Float133 = globalFloat;
        _myData._Float134 = globalFloat;
        _myData._Float135 = globalFloat;
        _myData._Float136 = globalFloat;
        _myData._Float137 = globalFloat;
        _myData._Float138 = globalFloat;
        _myData._Float139 = globalFloat;
        _myData._Float140 = globalFloat;
        _myData._Float141 = globalFloat;
        _myData._Float142 = globalFloat;
        _myData._Float143 = globalFloat;
        _myData._Float144 = globalFloat;
        _myData._Float145 = globalFloat;
        _myData._Float146 = globalFloat;
        _myData._Float147 = globalFloat;
        _myData._Float148 = globalFloat;
        _myData._Float149 = globalFloat;
        _myData._Float150 = globalFloat;
        _myData._Float151 = globalFloat;
        _myData._Float152 = globalFloat;
        _myData._Float153 = globalFloat;
        _myData._Float154 = globalFloat;
        _myData._Float155 = globalFloat;
        _myData._Float156 = globalFloat;
        _myData._Float157 = globalFloat;
        _myData._Float158 = globalFloat;
        _myData._Float159 = globalFloat;
        _myData._Float160 = globalFloat;
        _myData._Float161 = globalFloat;
        _myData._Float162 = globalFloat;
        _myData._Float163 = globalFloat;
        _myData._Float164 = globalFloat;
        _myData._Float165 = globalFloat;
        _myData._Float166 = globalFloat;
        _myData._Float167 = globalFloat;
        _myData._Float168 = globalFloat;
        _myData._Float169 = globalFloat;
        _myData._Float170 = globalFloat;
        _myData._Float171 = globalFloat;
        _myData._Float172 = globalFloat;
        _myData._Float173 = globalFloat;
        _myData._Float174 = globalFloat;
        _myData._Float175 = globalFloat;
        _myData._Float176 = globalFloat;
        _myData._Float177 = globalFloat;
        _myData._Float178 = globalFloat;
        _myData._Float179 = globalFloat;
        _myData._Float180 = globalFloat;
        _myData._Float181 = globalFloat;
        _myData._Float182 = globalFloat;
        _myData._Float183 = globalFloat;
        _myData._Float184 = globalFloat;
        _myData._Float185 = globalFloat;
        _myData._Float186 = globalFloat;
        _myData._Float187 = globalFloat;
        _myData._Float188 = globalFloat;
        _myData._Float189 = globalFloat;
        _myData._Float190 = globalFloat;
        _myData._Float191 = globalFloat;
        _myData._Float192 = globalFloat;
        _myData._Float193 = globalFloat;
        _myData._Float194 = globalFloat;
        _myData._Float195 = globalFloat;
        _myData._Float196 = globalFloat;
        _myData._Float197 = globalFloat;
        _myData._Float198 = globalFloat;
        _myData._Float199 = globalFloat;
        _myData._Float200 = globalFloat;
        _myData._Float201 = globalFloat;
        _myData._Float202 = globalFloat;
        _myData._Float203 = globalFloat;
        _myData._Float204 = globalFloat;
        _myData._Float205 = globalFloat;
        _myData._Float206 = globalFloat;
        _myData._Float207 = globalFloat;
        _myData._Float208 = globalFloat;
        _myData._Float209 = globalFloat;
        _myData._Float210 = globalFloat;
        _myData._Float211 = globalFloat;
        _myData._Float212 = globalFloat;
        _myData._Float213 = globalFloat;
        _myData._Float214 = globalFloat;
        _myData._Float215 = globalFloat;
        _myData._Float216 = globalFloat;
        _myData._Float217 = globalFloat;
        _myData._Float218 = globalFloat;
        _myData._Float219 = globalFloat;
        _myData._Float220 = globalFloat;
        _myData._Float221 = globalFloat;
        _myData._Float222 = globalFloat;
        _myData._Float223 = globalFloat;
        _myData._Float224 = globalFloat;
        _myData._Float225 = globalFloat;
        _myData._Float226 = globalFloat;
        _myData._Float227 = globalFloat;
        _myData._Float228 = globalFloat;
        _myData._Float229 = globalFloat;
        _myData._Float230 = globalFloat;
        _myData._Float231 = globalFloat;
        _myData._Float232 = globalFloat;
        _myData._Float233 = globalFloat;
        _myData._Float234 = globalFloat;
        _myData._Float235 = globalFloat;
        _myData._Float236 = globalFloat;
        _myData._Float237 = globalFloat;
        _myData._Float238 = globalFloat;
        _myData._Float239 = globalFloat;
        _myData._Float240 = globalFloat;
        _myData._Float241 = globalFloat;
        _myData._Float242 = globalFloat;
        _myData._Float243 = globalFloat;
        _myData._Float244 = globalFloat;
        _myData._Float245 = globalFloat;
        _myData._Float246 = globalFloat;
        _myData._Float247 = globalFloat;
        _myData._Float248 = globalFloat;
        _myData._Float249 = globalFloat;
        _myData._Float250 = globalFloat;
        _myData._Float251 = globalFloat;
        _myData._Float252 = globalFloat;
        _myData._Float253 = globalFloat;
        _myData._Float254 = globalFloat;
        _myData._Float255 = globalFloat;
        _myData._Float256 = globalFloat;
        _myData._Float257 = globalFloat;
        _myData._Float258 = globalFloat;
        _myData._Float259 = globalFloat;
        _myData._Float260 = globalFloat;
        _myData._Float261 = globalFloat;
        _myData._Float262 = globalFloat;
        _myData._Float263 = globalFloat;
        _myData._Float264 = globalFloat;
        _myData._Float265 = globalFloat;
        _myData._Float266 = globalFloat;
        _myData._Float267 = globalFloat;
        _myData._Float268 = globalFloat;
        _myData._Float269 = globalFloat;
        _myData._Float270 = globalFloat;
        _myData._Float271 = globalFloat;
        _myData._Float272 = globalFloat;
        _myData._Float273 = globalFloat;
        _myData._Float274 = globalFloat;
        _myData._Float275 = globalFloat;
        _myData._Float276 = globalFloat;
        _myData._Float277 = globalFloat;
        _myData._Float278 = globalFloat;
        _myData._Float279 = globalFloat;
        _myData._Float280 = globalFloat;
        _myData._Float281 = globalFloat;
        _myData._Float282 = globalFloat;
        _myData._Float283 = globalFloat;
        _myData._Float284 = globalFloat;
        _myData._Float285 = globalFloat;
        _myData._Float286 = globalFloat;
        _myData._Float287 = globalFloat;
        _myData._Float288 = globalFloat;
        _myData._Float289 = globalFloat;
        _myData._Float290 = globalFloat;
        _myData._Float291 = globalFloat;
        _myData._Float292 = globalFloat;
        _myData._Float293 = globalFloat;
        _myData._Float294 = globalFloat;
        _myData._Float295 = globalFloat;
        _myData._Float296 = globalFloat;
        _myData._Float297 = globalFloat;
        _myData._Float298 = globalFloat;
        _myData._Float299 = globalFloat;
        _myData._Float300 = globalFloat;
        _myData._Float301 = globalFloat;
        _myData._Float302 = globalFloat;
        _myData._Float303 = globalFloat;
        _myData._Float304 = globalFloat;
        _myData._Float305 = globalFloat;
        _myData._Float306 = globalFloat;
        _myData._Float307 = globalFloat;
        _myData._Float308 = globalFloat;
        _myData._Float309 = globalFloat;
        _myData._Float310 = globalFloat;
        _myData._Float311 = globalFloat;
        _myData._Float312 = globalFloat;
        _myData._Float313 = globalFloat;
        _myData._Float314 = globalFloat;
        _myData._Float315 = globalFloat;
        _myData._Float316 = globalFloat;
        _myData._Float317 = globalFloat;
        _myData._Float318 = globalFloat;
        _myData._Float319 = globalFloat;
        _myData._Float320 = globalFloat;
        _myData._Float321 = globalFloat;
        _myData._Float322 = globalFloat;
        _myData._Float323 = globalFloat;
        _myData._Float324 = globalFloat;
        _myData._Float325 = globalFloat;
        _myData._Float326 = globalFloat;
        _myData._Float327 = globalFloat;
        _myData._Float328 = globalFloat;
        _myData._Float329 = globalFloat;
        _myData._Float330 = globalFloat;
        _myData._Float331 = globalFloat;
        _myData._Float332 = globalFloat;
        _myData._Float333 = globalFloat;
        _myData._Float334 = globalFloat;
        _myData._Float335 = globalFloat;
        _myData._Float336 = globalFloat;
        _myData._Float337 = globalFloat;
        _myData._Float338 = globalFloat;
        _myData._Float339 = globalFloat;
        _myData._Float340 = globalFloat;
        _myData._Float341 = globalFloat;
        _myData._Float342 = globalFloat;
        _myData._Float343 = globalFloat;
        _myData._Float344 = globalFloat;
        _myData._Float345 = globalFloat;
        _myData._Float346 = globalFloat;
        _myData._Float347 = globalFloat;
        _myData._Float348 = globalFloat;
        _myData._Float349 = globalFloat;
        _myData._Float350 = globalFloat;
        _myData._Float351 = globalFloat;
        _myData._Float352 = globalFloat;
        _myData._Float353 = globalFloat;
        _myData._Float354 = globalFloat;
        _myData._Float355 = globalFloat;
        _myData._Float356 = globalFloat;
        _myData._Float357 = globalFloat;
        _myData._Float358 = globalFloat;
        _myData._Float359 = globalFloat;
        _myData._Float360 = globalFloat;
        _myData._Float361 = globalFloat;
        _myData._Float362 = globalFloat;
        _myData._Float363 = globalFloat;
        _myData._Float364 = globalFloat;
        _myData._Float365 = globalFloat;
        _myData._Float366 = globalFloat;
        _myData._Float367 = globalFloat;
        _myData._Float368 = globalFloat;
        _myData._Float369 = globalFloat;
        _myData._Float370 = globalFloat;
        _myData._Float371 = globalFloat;
        _myData._Float372 = globalFloat;
        _myData._Float373 = globalFloat;
        _myData._Float374 = globalFloat;
        _myData._Float375 = globalFloat;
        _myData._Float376 = globalFloat;
        _myData._Float377 = globalFloat;
        _myData._Float378 = globalFloat;
        _myData._Float379 = globalFloat;
        _myData._Float380 = globalFloat;
        _myData._Float381 = globalFloat;
        _myData._Float382 = globalFloat;
        _myData._Float383 = globalFloat;
        _myData._Float384 = globalFloat;
        _myData._Float385 = globalFloat;
        _myData._Float386 = globalFloat;
        _myData._Float387 = globalFloat;
        _myData._Float388 = globalFloat;
        _myData._Float389 = globalFloat;
        _myData._Float390 = globalFloat;
        _myData._Float391 = globalFloat;
        _myData._Float392 = globalFloat;
        _myData._Float393 = globalFloat;
        _myData._Float394 = globalFloat;
        _myData._Float395 = globalFloat;
        _myData._Float396 = globalFloat;
        _myData._Float397 = globalFloat;
        _myData._Float398 = globalFloat;
        _myData._Float399 = globalFloat;
        _myData._Float400 = globalFloat;
        _myData._Float401 = globalFloat;
        _myData._Float402 = globalFloat;
        _myData._Float403 = globalFloat;
        _myData._Float404 = globalFloat;
        _myData._Float405 = globalFloat;
        _myData._Float406 = globalFloat;
        _myData._Float407 = globalFloat;
        _myData._Float408 = globalFloat;
        _myData._Float409 = globalFloat;
        _myData._Float410 = globalFloat;
        _myData._Float411 = globalFloat;
        _myData._Float412 = globalFloat;
        _myData._Float413 = globalFloat;
        _myData._Float414 = globalFloat;
        _myData._Float415 = globalFloat;
        _myData._Float416 = globalFloat;
        _myData._Float417 = globalFloat;
        _myData._Float418 = globalFloat;
        _myData._Float419 = globalFloat;
        _myData._Float420 = globalFloat;
        _myData._Float421 = globalFloat;
        _myData._Float422 = globalFloat;
        _myData._Float423 = globalFloat;
        _myData._Float424 = globalFloat;
        _myData._Float425 = globalFloat;
        _myData._Float426 = globalFloat;
        _myData._Float427 = globalFloat;
        _myData._Float428 = globalFloat;
        _myData._Float429 = globalFloat;
        _myData._Float430 = globalFloat;
        _myData._Float431 = globalFloat;
        _myData._Float432 = globalFloat;
        _myData._Float433 = globalFloat;
        _myData._Float434 = globalFloat;
        _myData._Float435 = globalFloat;
        _myData._Float436 = globalFloat;
        _myData._Float437 = globalFloat;
        _myData._Float438 = globalFloat;
        _myData._Float439 = globalFloat;
        _myData._Float440 = globalFloat;
        _myData._Float441 = globalFloat;
        _myData._Float442 = globalFloat;
        _myData._Float443 = globalFloat;
        _myData._Float444 = globalFloat;
        _myData._Float445 = globalFloat;
        _myData._Float446 = globalFloat;
        _myData._Float447 = globalFloat;
        _myData._Float448 = globalFloat;
        _myData._Float449 = globalFloat;
        _myData._Float450 = globalFloat;
        _myData._Float451 = globalFloat;
        _myData._Float452 = globalFloat;
        _myData._Float453 = globalFloat;
        _myData._Float454 = globalFloat;
        _myData._Float455 = globalFloat;
        _myData._Float456 = globalFloat;
        _myData._Float457 = globalFloat;
        _myData._Float458 = globalFloat;
        _myData._Float459 = globalFloat;
        _myData._Float460 = globalFloat;
        _myData._Float461 = globalFloat;
        _myData._Float462 = globalFloat;
        _myData._Float463 = globalFloat;
        _myData._Float464 = globalFloat;
        _myData._Float465 = globalFloat;
        _myData._Float466 = globalFloat;
        _myData._Float467 = globalFloat;
        _myData._Float468 = globalFloat;
        _myData._Float469 = globalFloat;
        _myData._Float470 = globalFloat;
        _myData._Float471 = globalFloat;
        _myData._Float472 = globalFloat;
        _myData._Float473 = globalFloat;
        _myData._Float474 = globalFloat;
        _myData._Float475 = globalFloat;
        _myData._Float476 = globalFloat;
        _myData._Float477 = globalFloat;
        _myData._Float478 = globalFloat;
        _myData._Float479 = globalFloat;
        _myData._Float480 = globalFloat;
        _myData._Float481 = globalFloat;
        _myData._Float482 = globalFloat;
        _myData._Float483 = globalFloat;
        _myData._Float484 = globalFloat;
        _myData._Float485 = globalFloat;
        _myData._Float486 = globalFloat;
        _myData._Float487 = globalFloat;
        _myData._Float488 = globalFloat;
        _myData._Float489 = globalFloat;
        _myData._Float490 = globalFloat;
        _myData._Float491 = globalFloat;
        _myData._Float492 = globalFloat;
        _myData._Float493 = globalFloat;
        _myData._Float494 = globalFloat;
        _myData._Float495 = globalFloat;
        _myData._Float496 = globalFloat;
        _myData._Float497 = globalFloat;
        _myData._Float498 = globalFloat;
        _myData._Float499 = globalFloat;
        ConstantBuffer.PushGlobal(_myData, bufferID);
    }
    
    static readonly int bufferID = Shader.PropertyToID("MyGlobalBuffer");
    
    void SetGlobalParameter()
    {
        for (int i = 0; i < ShaderProperties.N; i++)
        {
            Shader.SetGlobalFloat(_properties.PropertyIds[i], globalFloat);
        }
    }
}

public class ShaderProperties
{
    public const int N = 500;
    public readonly int[] PropertyIds; 
    public ShaderProperties()
    {
        PropertyIds = new int[N];
        for (int i = 0; i < N; i++)
        {
            PropertyIds[i] = Shader.PropertyToID($"_Float{i}");
        }
    }
}
